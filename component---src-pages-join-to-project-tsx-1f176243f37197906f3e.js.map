{"version":3,"sources":["webpack:///./src/hooks/useProjects.tsx","webpack:///./src/pages/join-to-project.tsx","webpack:///./src/hooks/useUser.tsx"],"names":["useProjects","projects","useSelector","state","setProjects","useDispatch","useEffect","fetchProjects","StyledFormWrapper","styled","main","StyledFormHeadingWrapper","div","StyledContainer","StyledWrapper","section","StyledLogoWrapper","Link","StyledButtonSecondary","theme","greenSecondary","greenPrimary","StyledForm","form","StyledLabelInputWrapper","fieldset","StyledButtonWrapper","StyledButton","button","pinkPrimary","pinkSecondary","StyledInfo","p","StyledInfoButton","JoinProject","useState","setFilteredProject","useUser","to","newProject","htmlFor","id","type","onChange","e","filter","doc","key","target","value","name","aria-label","aria-required","autoComplete","currentUser","fetchUser","setCurrentUser"],"mappings":"2FAAA,wCAmBeA,IAXK,WAClB,IAAMC,EAAgBC,uBAAsB,SAAAC,GAAK,OAAIA,EAAMF,YACrDG,EAAcC,wBAMpB,OAJAC,qBAAU,WACRF,EAAYG,iBACX,IAEIN,I,krICFT,IAAMO,EAAoBC,IAAOC,KAAV,KAUjBC,EAA2BF,IAAOG,IAAV,KA0BxBC,EAAkBJ,IAAOG,IAAV,KAefE,EAAgBL,IAAOM,QAAV,KA0BbC,EAAoBP,YAAOQ,IAAPR,CAAH,KAMjBS,EAAwBT,YAAOQ,IAAPR,CAAH,KAUL,qBAAGU,MAAkBC,kBAChC,qBAAGD,MAAkBE,gBAW1BC,EAAab,IAAOc,KAAV,KAaVC,EAA0Bf,IAAOgB,SAAV,KAcvBC,EAAsBjB,IAAOG,IAAV,KAQnBe,EAAelB,IAAOmB,OAAV,KAKI,qBAAGT,MAAkBU,eAOnB,qBAAGV,MAAkBW,iBAChC,qBAAGX,MAAkBU,eAe5BE,EAAatB,IAAOuB,EAAV,KAUVC,EAAmBxB,YAAOQ,IAAPR,CAAH,KASE,qBAAGU,MAAkBW,iBA4E9BI,UArEe,WAAM,MACYC,mBAAqB,MAA3CC,GADU,WAI5BnC,GAFcoC,cACLhC,wBACEL,eAEIK,wBAsBrB,OACE,kBAAC,IAAD,KACE,kBAACQ,EAAD,KACE,kBAACG,EAAD,CAAmBsB,GAAG,KACpB,kBAAC,IAAD,CAAYC,YAAU,GAAtB,aAEF,kBAACzB,EAAD,KACE,kBAACN,EAAD,KACE,kBAACG,EAAD,KACE,kBAAC,IAAD,CAAeY,MAAI,GAAnB,mBACA,kBAACD,EAAD,KACE,kBAACE,EAAD,KACE,kBAAC,IAAD,CAAagB,QAAQ,OAArB,OACA,kBAAC,IAAD,CACED,YAAU,EACVE,GAAG,MACHC,KAAK,OACLC,SArCQ,SAACC,GACzBR,EAAmBnC,EAAS4C,QAAO,SAACC,GAAD,OAAcA,EAAIC,MAAQH,EAAEI,OAAOC,WAqCtDC,KAAK,MACLC,aAAW,MACXC,gBAAc,OACdC,aAAa,kBAGjB,kBAAC3B,EAAD,KACE,kBAACC,EAAD,CAAce,KAAK,UAAnB,OACA,kBAACX,EAAD,8BAEE,kBAACE,EAAD,CAAkBK,GAAG,oBAArB,aAOZ,kBAACpB,EAAD,CAAuBoB,GAAG,sBAA1B,qB,kCC/QR,wCAwBeD,IAXC,WACd,IAAMiB,EAAmBpD,uBAAkB,SAAAC,GAAK,OAAIA,EAAMmD,eACpDC,EAAYlD,wBAMlB,OAJAC,qBAAU,WACRiD,EAAUC,iBACT,IAEIF","file":"component---src-pages-join-to-project-tsx-1f176243f37197906f3e.js","sourcesContent":["import { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchProjects } from '../actions';\n\ninterface Projects {\n  projects: [];\n}\n\nconst useProjects = () => {\n  const projects: any = useSelector<Projects>(state => state.projects);\n  const setProjects = useDispatch();\n\n  useEffect(() => {\n    setProjects(fetchProjects());\n  }, []);\n\n  return projects;\n};\n\nexport default useProjects;\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { Link, navigate } from 'gatsby';\nimport { useSelector, useDispatch, Provider } from 'react-redux';\nimport Layout from '../Layout/Layout';\nimport StyledHeading from '../components/atoms/Heading';\nimport StyledLabel from '../components/atoms/Label';\nimport StyledInput from '../components/atoms/Input';\nimport StyledLogo from '../components/atoms/Logo';\nimport { setProjectKey, fetchFactory, getProjectID } from '../actions/index';\nimport useUser from '../hooks/useUser';\nimport useProjects from '../hooks/useProjects';\nimport useTeam from '../hooks/useTeam';\n\nconst StyledFormWrapper = styled.main`\n  width: 100%;\n  height: 80%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 7rem;\n  margin-bottom: 3rem;\n`;\n\nconst StyledFormHeadingWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  flex-direction: column;\n\n  @media only screen and (min-width: 950px) {\n    width: auto;\n    min-width: 40rem;\n    justify-content: center;\n    height: 100%;\n    padding-left: 3rem;\n  }\n  @media only screen and (min-width: 1200px) {\n    min-width: 40rem;\n  }\n  @media only screen and (min-width: 1400px) {\n    min-width: 45rem;\n  }\n  @media only screen and (min-width: 1600px) {\n    min-width: 50rem;\n  }\n`;\n\nconst StyledContainer = styled.div`\n  width: 100%;\n  height: 100vh;\n  padding: 3rem 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  position: relative;\n  overflow: hidden;\n\n  @media only screen and (min-width: 950px) {\n    padding: 0;\n  }\n`;\n\nconst StyledWrapper = styled.section`\n  width: 100%;\n  max-width: 40rem;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  flex-direction: column;\n\n  @media only screen and (min-width: 950px) {\n    height: 100%;\n    width: 50%;\n    justify-content: center;\n    padding: 3rem 2rem;\n    max-width: 50%;\n  }\n  @media only screen and (min-width: 1200px) {\n    width: 60%;\n    max-width: 60%;\n  }\n  @media only screen and (min-width: 1600px) {\n    width: 70%;\n    max-width: 70%;\n  }\n`;\n\nconst StyledLogoWrapper = styled(Link)`\n  position: absolute;\n  top: 7%;\n  left: 4%;\n`;\n\nconst StyledButtonSecondary = styled(Link)`\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 5%;\n  right: 4%;\n  height: 4.3rem;\n  width: 13rem;\n  background-color: ${({ theme }) => theme.greenSecondary};\n  color: ${({ theme }) => theme.greenPrimary};\n  font-size: 1.6rem;\n  font-weight: 700;\n  border-radius: 10px;\n  display: none;\n\n  @media only screen and (min-width: 950px) {\n    display: flex;\n  }\n`;\n\nconst StyledForm = styled.form`\n  margin-top: 5rem;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  flex-direction: column;\n\n  @media only screen and (min-width: 950px) {\n    justify-content: center;\n  }\n`;\n\nconst StyledLabelInputWrapper = styled.fieldset`\n  width: 100%;\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  flex-direction: column;\n  margin-bottom: 5rem;\n  border: none;\n\n  @media only screen and (min-width: 950px) {\n    align-items: center;\n  }\n`;\n\nconst StyledButtonWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  flex-direction: column;\n`;\n\nconst StyledButton = styled.button`\n  width: 100%;\n  height: 4rem;\n  font-size: 1.4rem;\n  font-weight: 700;\n  background-color: ${({ theme }) => theme.pinkPrimary};\n  color: #fff;\n  border-radius: 8px;\n  max-width: 40rem;\n  margin-bottom: 2rem;\n\n  :focus {\n    background-color: ${({ theme }) => theme.pinkSecondary};\n    color: ${({ theme }) => theme.pinkPrimary};\n  }\n\n  @media only screen and (min-width: 950px) {\n    width: 35%;\n  }\n  @media only screen and (min-width: 1150px) {\n    font-size: 1.5rem;\n    width: 45%;\n  }\n  @media only screen and (min-width: 1400px) {\n    width: 55%;\n  }\n`;\n\nconst StyledInfo = styled.p`\n  width: 100%;\n  text-align: center;\n  font-size: 1.4rem;\n\n  @media only screen and (min-width: 950px) {\n    display: none;\n  }\n`;\n\nconst StyledInfoButton = styled(Link)`\n  text-decoration: none;\n  position: relative;\n  margin-left: 0.6rem;\n  ::before {\n    content: '';\n    position: absolute;\n    width: 100%;\n    height: 50%;\n    background-color: ${({ theme }) => theme.pinkSecondary};\n    z-index: -1;\n    top: 60%;\n    left: 15%;\n  }\n`;\n\nconst JoinProject: React.FC = () => {\n  const [filteredProject, setFilteredProject] = useState<any | null>(null);\n  const currentUser = useUser();\n  const setKey = useDispatch();\n  const projects = useProjects();\n  //   const team = useTeam();\n  const setProjectID = useDispatch();\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFilteredProject(projects.filter((doc: any) => doc.key === e.target.value));\n    // setTeam(fetchFactory(projects.filter((doc: any) => doc.key === e.target.value)[0].id, 'FETCH_TEAM', 'team', 'TEAM'));\n  };\n\n  const handleJoin = (e: React.MouseEvent<HTMLButtonElement, MouseEvent> | React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (projects && currentUser && team) {\n      const projectKey = filteredProject[0].key;\n      const projectMember = team.filter(doc => doc.user.uid === currentUser.uid);\n      // setKey(setProjectKey(projectKey));\n      // setProjectID(getProjectID(projects, projectKey));\n      if (Array.isArray(projectMember) && projectMember.length > 0) {\n        navigate(`project/${projectKey}/team`);\n      } else {\n        navigate(`project/${projectKey}/select-role`);\n      }\n    }\n  };\n\n  return (\n    <Layout>\n      <StyledContainer>\n        <StyledLogoWrapper to=\"/\">\n          <StyledLogo newProject>Projecty</StyledLogo>\n        </StyledLogoWrapper>\n        <StyledWrapper>\n          <StyledFormWrapper>\n            <StyledFormHeadingWrapper>\n              <StyledHeading form>Join to project</StyledHeading>\n              <StyledForm>\n                <StyledLabelInputWrapper>\n                  <StyledLabel htmlFor=\"key\">Key</StyledLabel>\n                  <StyledInput\n                    newProject\n                    id=\"key\"\n                    type=\"text\"\n                    onChange={handleInputChange}\n                    name=\"key\"\n                    aria-label=\"key\"\n                    aria-required=\"true\"\n                    autoComplete=\"new-password\"\n                  />\n                </StyledLabelInputWrapper>\n                <StyledButtonWrapper>\n                  <StyledButton type=\"submit\">Go!</StyledButton>\n                  <StyledInfo>\n                    Want to start project?\n                    <StyledInfoButton to=\"/join-to-project\">Go!</StyledInfoButton>\n                  </StyledInfo>\n                </StyledButtonWrapper>\n              </StyledForm>\n            </StyledFormHeadingWrapper>\n          </StyledFormWrapper>\n        </StyledWrapper>\n        <StyledButtonSecondary to=\"/start-new-project\">start project</StyledButtonSecondary>\n      </StyledContainer>\n    </Layout>\n  );\n};\n\nexport default JoinProject;\n\n// import React from 'react';\n\n// const JoinProject = () => <div>p</div>;\n// export default JoinProject;\n","import { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setCurrentUser } from '../actions';\n\ninterface User {\n  currentUser: {\n    uid: string;\n    photoURL: string;\n    email: string;\n    name: string;\n  };\n}\n\nconst useUser = () => {\n  const currentUser: any = useSelector<User>(state => state.currentUser);\n  const fetchUser = useDispatch();\n\n  useEffect(() => {\n    fetchUser(setCurrentUser());\n  }, []);\n\n  return currentUser;\n};\n\nexport default useUser;\n"],"sourceRoot":""}